% used in tests of,
% - sparce SDP implementation, possible cholesky PosDefException

function mpc = case9
mpc.version = '2';
mpc.baseMVA = 1000.0;

%% bus data
%	bus_i	type	Pd	Qd	Gs	Bs	area	Vm	Va	baseKV	zone	Vmax	Vmin
mpc.bus = [
	1	 3	 0.0	 0.0	 0.0	 0.0	 1	    1.00000	    0.00000	  345	 1	    1.10000	    0.90000;
	2	 2	 0.0	 0.0	 0.0	 0.0	 1	    1.00000	    0.00000	  345	 1	    1.10000	    0.90000;
	3	 2	 0.0	 0.0	 0.0	 0.0	 1	    1.00000	    0.00000	  345	 1	    1.10000	    0.90000;
	4	 1	 0.0	 0.0	 0.0	 0.0	 1	    1.00000	    0.00000	  345	 1	    1.10000	    0.90000;
	5	 1	 900.0	 300.0	 0.0	 0.0	 1	    1.00000	    0.00000	  345	 1	    1.10000	    0.90000;
	6	 1	 0.0	 0.0	 0.0	 0.0	 1	    1.00000	    0.00000	  345	 1	    1.10000	    0.90000;
	7	 1	 1000.0	 350.0	 0.0	 0.0	 1	    1.00000	    0.00000	  345	 1	    1.10000	    0.90000;
	8	 1	 0.0	 0.0	 0.0	 0.0	 1	    1.00000	    0.00000	  345	 1	    1.10000	    0.90000;
	9	 1	 1250.0	 500.0	 0.0	 0.0	 1	    1.00000	    0.00000	  345	 1	    1.10000	    0.90000;
    11	 3	 0.0	 0.0	 0.0	 0.0	 1	    1.00000	    0.00000	  345	 1	    1.10000	    0.90000;
	12	 2	 0.0	 0.0	 0.0	 0.0	 1	    1.00000	    0.00000	  345	 1	    1.10000	    0.90000;
	13	 2	 0.0	 0.0	 0.0	 0.0	 1	    1.00000	    0.00000	  345	 1	    1.10000	    0.90000;
	14	 1	 0.0	 0.0	 0.0	 0.0	 1	    1.00000	    0.00000	  345	 1	    1.10000	    0.90000;
	15	 1	 900.0	 300.0	 0.0	 0.0	 1	    1.00000	    0.00000	  345	 1	    1.10000	    0.90000;
	16	 1	 0.0	 0.0	 0.0	 0.0	 1	    1.00000	    0.00000	  345	 1	    1.10000	    0.90000;
	17	 1	 1000.0	 350.0	 0.0	 0.0	 1	    1.00000	    0.00000	  345	 1	    1.10000	    0.90000;
	18	 1	 0.0	 0.0	 0.0	 0.0	 1	    1.00000	    0.00000	  345	 1	    1.10000	    0.90000;
	19	 1	 1250.0	 500.0	 0.0	 0.0	 1	    1.00000	    0.00000	  345	 1	    1.10000	    0.90000;
    21	 1	 0.0	 0.0	 0.0	 0.0	 1	    1.00000	    0.00000	  220	 1	    1.10000	    0.90000;
    22	 1	 0.0	 0.0	 0.0	 0.0	 1	    1.00000	    0.00000	  220	 1	    1.10000	    0.90000;
];

%% generator data
%	bus  Pg     Qg	    Qmax	Qmin	 Vg	   mBase	status	Pmax	Pmin
mpc.gen = [
	1	 0.0	 0.0	 3000.0	 -3000.0	 1.0	 1000.0	 1	 2500.0	 10.0;
	2	 163	 0.0	 3000.0	 -3000.0	 1.0	 1000.0	 1	 3000.0	 10.0;
	3	 85	     0.0	 3000.0	 -3000.0	 1.0	 1000.0	 1	 2700.0	 10.0;
    11	 0.0	 0.0	 3000.0	 -3000.0	 1.0	 1000.0	 1	 2500.0	 10.0;
	12	 163	 0.0	 3000.0	 -3000.0	 1.0	 1000.0	 1	 3000.0	 10.0;
	13	 85	     0.0	 3000.0	 -3000.0	 1.0	 1000.0	 1	 2700.0	 10.0;
    21	 0.0	 0.0	 1000	 -1000.0	 1.0	 1000.0	 1	 1000.0	 10.0;
    22	 0.0	 0.0	 1000.0	 -1000.0	 1.0	 1000.0	 1	 1000.0	 10.0;
];

%% generator cost data
%    1    startup    shutdown    n    x1    y1    ...    xn    yn
%    2    startup    shutdown    n    c(n-1)    ...    c0
mpc.gencost = [
     2    1500    0    3    0.11    5    150;
     2    2000    0    3    0.085    1.2    600;
     2    3000    0    3    0.1225    1    335;
     2    1500    0    3    0.11    5    150;
     2    2000    0    3    0.085    1.2    600;
     2    3000    0    3    0.1225    1    335;
     2    10       0    2    0.0001    0 0;
     2    10       0    2    0.0001    0 0;
 ];

%% branch data
%	fbus	tbus	r	x	b	rateA	rateB	rateC	ratio	angle	status	angmin	angmax
mpc.branch = [
	1	 4	 0.000	 0.058	 0.000	 2000  2000  2000    0.0	    0.0	    1	 -360.0	 360.0;
	4	 5	 0.017	 0.092	 0.158	 2000  2000  2000    0.0	    0.0	    1	 -360.0	 360.0;
	5	 6	 0.039	 0.170	 0.358	 2000  2000  2000    0.0	    0.0	    1	 -360.0	 360.0;
	3	 6	 0.000	 0.059	 0.000	 2000  2000  2000    0.0	    0.0	    1	 -360.0	 360.0;
	6	 7	 0.012	 0.101	 0.209	 2000  2000  2000    0.0	    0.0	    1	 -360.0	 360.0;
	7	 8	 0.009	 0.072	 0.149	 2000  2000  2000    0.0	    0.0	    1	 -360.0	 360.0;
	8	 2	 0.000	 0.063	 0.000	 2000  2000  2000    0.0	    0.0	    1	 -360.0	 360.0;
	8	 9	 0.032	 0.161	 0.306	 2000  2000  2000    0.0	    0.0	    1	 -360.0	 360.0;
	9	 4	 0.010	 0.085	 0.176	 2000  2000  2000    0.0	    0.0	    1	 -360.0	 360.0;
	11  14   0.000	 0.058	 0.000	 2000  2000  2000    0.0	    0.0	    1	 -360.0	 360.0;
    14  15   0.017	 0.092	 0.158	 2000  2000  2000    0.0	    0.0	    1	 -360.0	 360.0;
    15  16   0.039	 0.170	 0.358	 2000  2000  2000    0.0	    0.0	    1	 -360.0	 360.0;
    13  16   0.000	 0.059	 0.000	 2000  2000  2000    0.0	    0.0	    1	 -360.0	 360.0;
    16  17   0.012	 0.101	 0.209	 2000  2000  2000    0.0	    0.0	    1	 -360.0	 360.0;
    17  18   0.009	 0.072	 0.149	 2000  2000  2000    0.0	    0.0	    1	 -360.0	 360.0;
    18  12   0.000	 0.063	 0.000	 2000  2000  2000    0.0	    0.0	    1	 -360.0	 360.0;
    18  19   0.032	 0.161	 0.306	 2000  2000  2000    0.0	    0.0	    1	 -360.0	 360.0;
    19  14   0.010	 0.085	 0.176	 2000  2000  2000    0.0	    0.0	    1	 -360.0	 360.0;
];   

%% dc grid topology
%colunm_names% dcpoles
mpc.dcpol=2;
% numbers of poles (1=monopolar grid, 2=bipolar grid)
%% bus data
%column_names%   busdc_i grid    Pdc     Vdc     basekVdc    Vdcmax  Vdcmin  Cdc
mpc.busdc = [
    1              1       0       1       525         1.1     0.9     0;
    2              1       0       1       525         1.1     0.9     0;
    3              1       0       1       525         1.1     0.9     0;
    4              1       0       1       525         1.1     0.9     0;
];

%% converters
%column_names%   busdc_i busac_i type_dc type_ac P_g   Q_g   islcc Vtar   rtf	xtf	transformer	tm	bf	filter	 rc 	xc	reactor	basekVac   Vmmax   Vmmin   Imax    status   LossA LossB  LossCrec LossCinv  droop      Pdcset    Vdcset  dVdcset Pacmax Pacmin Qacmax Qacmin
mpc.convdc = [
                    1      7        2       1    0      0      0     1     0.0001    0.0001   1	   1    0    0      0.0038  0.0953	1	   345    1.1      0.9    1.1       1     1.0    1.0    0.0171   0.0171   0.0050    -58.6274   1.0079     0     1000   -1000   600   -600;
                    2      17       1       1    0      0      0     1     0.0001    0.0001   1	   1    0    0      0.0038  0.0953	1	   345    1.1      0.9    1.1       1     1.0    1.0    0.0171   0.0171   0.0050    -58.6274   1.0079     0     1000   -1000   600   -600;
                    3      21       1       1    0      0      0     1     0.0001    0.0001   1	   1 	0    0      0.0038  0.0953	1      345    1.1      0.9    1.1       1     1.0    1.0    0.0171   0.0171   0.0050    -58.6274   1.0079     0     1000   -1000   600   -600;
                    4      22       1       1    0      0      0     1     0.0001    0.0001   1	   1 	0    0      0.0038  0.0953	1      345    1.1      0.9    1.1       1     1.0    1.0    0.0171   0.0171   0.0050    -58.6274   1.0079     0     1000   -1000   600   -600;
];

%% branches
%column_names%   fbusdc  tbusdc  r      l    c    rateA    rateB   rateC  status
mpc.branchdc = [
                   1       2    0.0033  0    0    2000     2000     2000     1;
                   1       3    0.0033  0    0    2000     2000     2000     1;
                   1       4    0.0033  0    0    2000     2000     2000     1;
                   2       3    0.0033  0    0    2000     2000     2000     1;
                   3       4    0.0033  0    0    2000     2000     2000     1;
 ];


